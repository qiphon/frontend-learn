# javascript 基础

script属性

    :1. async (异步的) 等待其他加载完毕再加载
    :2. charset 设置编码字符集，由于大多数浏览器会忽略他的值，所以很少被使用
    :3. defer 表示脚本可以到文档完全被解析和显示后再执行。IE7 及更早的版本也支持这个属性。
    :4. type 考虑到约定俗成和最大限度的浏览器兼容性，目前type的属性值依旧还是text/javascript

> ```alert("</script>")```这个代码会报错，代码中任何地方出现```</script>```字符串，浏览器就会认为它是一个script标签可以通过转译符号解决这个问题```</script>```

> 注意：defer属性只适用于外部脚本文件。这一点在HTML5中已经明确规定，因此，支持HTML5的实现会忽略给嵌入脚本设置的defer属性。IE4 - IE7还支持嵌入脚本的defer属性，知道IE8才支持HTML5规定的行为。在XHTML中要把defer属性设置成 defer=“defer”。
同样的async与defer类似，但是不同在于async不能保证文件按照从上到下的顺序执行，所以使用async的script不能带有依赖关系，在XHTML文档中async属性要设置为async=“async”

> 按照惯例，外部JavaScript带有.js 扩展名。但是这个扩展名不是必须的，因为浏览器不会检查包含JavaScript的文件的扩展名，这样一来，使用jsp、PHP或其他服务器端语言动态生成JavaScript代码也就成为了可能。但是服务器通常还是需要看扩展名决定为响应应用哪种MIME类型。如果不用.JS扩展名，请确保服务器能返回正确的MIME类型。


### XHTML中的script 

xhtml 的语法比较严格，在XHTML中不能使用' < ',在XHTML中会被解析成一个新的标签。
解决办法就是使用实体字符```&lt;```代替所有的小于号如
```
if(a &lt; b )console.log(111)

```
方法二：使用一个CData片段来包含JavaScript代码,由于有的浏览器不支持CDATA片段，我们需要用js注释将其注释掉就好了
```
<script>
//<! [CDATA[
    if(a<b)console.log(111)
//]] >
</script>

```

####不支持JavaScript的解决

```
<script><!--
    if(a)return a ;
//--></script>

```

### 嵌入代码与外部文件

HTML中嵌入代码虽然没有问题，但是一般认为好的做法还是尽可能使用外部文件来包含JavaScript代码，外部文件的有点：
1. 可维护性 ：遍及不同HTML页面的JavaScript会造成维护问题，所以把所有的JavaScript文件都放在一个文件夹中维护起来就轻松多了。
2. 可缓存 ： 浏览器能根据具体的设置来缓存HTML外部文件，提高加载速度
3. 适应未来：通过外部文件来加载的JavaScript无需XHTML或注释hack。HTML和XHTML包含外部文件的语法是相同的


## 文档模式 DOCTYOE 

> IE5.5 引入文档模式概念，最初的两种文档模式是：混杂模式（quirks mode）和标准模式（standards mode）。

### typeof 数据类型检测，返回字符串

1. "undefined" ----- 如果这个值未定义
2. "boolean"
3. 'string'
4. 'number'
5. 'object'
6. 'function'

> null ---> function
Safari 5 及Chrome 7 以及之前的版本对正则表达式调用typeof 会返回function，而其他浏览器返回object

### Boolean 

数据类型转换 ，对于任何类型的值调用Boolean() 函数，总会返回一个Boolean值

数据类型|转换为true|转换为false
--|--|--|
Boolea|true|false
string | 非空字符串 |空字符串
Number | 非零的值 | 0和NaN
Object | 任何对象 | null
Undefined|n/a | undefined

### NaN （not a Number）

isNaN() 函数

数据| 结果
--|--|
NaN  | true
10 | false
'9'|false
'blue' | true
true | false

### 数值转换

Number() | parseInt() | parseFloat()
--|--|--|
可以用于任何数据类型|只能用于字符串|只能用于字符串


Number转化规则
1. Boolean true、false直接转为1或0
2. 数字直接返回
3. null 返回 0
4. undefined 返回 NaN
5. 如果是字符串
    :1. 如果只包含数字
